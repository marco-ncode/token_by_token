<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simulatore Token-by-Token di LLM v2</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:ital,wght@0,100..700;1,100..700&family=Source+Sans+3:ital,wght@0,200..900;1,200..900&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container">
        <header>
            <h1>Simulatore Token-by-Token</h1>
            <p>Basato sul paper: "Interactive Token-by-Token Simulation: A Novel Pedagogical Framework".</p>
        </header>

        <main class="simulation-box">
            <div id="prompt-info">
                <strong>Prompt Iniziale:</strong> <span id="prompt-description"></span>
            </div>

            <div id="stats-container">
                <div class="stat-item">
                    <span>Token Generati:</span>
                    <strong id="token-count">0</strong>
                </div>
                <div class="stat-item">
                    <span>Confidenza Media:</span>
                    <strong id="avg-confidence">N/A</strong>
                </div>
                <div class="stat-item">
                    <span>Percorsi Alternativi:</span>
                    <strong id="alternative-paths">1</strong>
                </div>
            </div>

            <div id="text-container">
                <p id="generated-text"></p>
                <span id="cursor" class="blink">|</span>
            </div>

            <div id="options-title">
                Scegli il prossimo token:
            </div>

            <div id="options-container">
                <!-- Le opzioni dei token verranno inserite qui da JavaScript -->
            </div>

            <div id="controls-container">
                <button id="auto-mode-btn">‚ñ∂Ô∏è Avvia Auto-Mode</button>
                <button id="restart-btn">üîÑ Riavvia Simulazione</button>
            </div>
        </main>
        
        <footer>
            <p>Questo strumento didattico simula il comportamento di un Large Language Model (LLM). Ogni tua scelta √® irreversibile e influenza le probabilit√† delle parole successive, dimostrando come possono emergere le "allucinazioni" (informazioni errate ma plausibili).</p>
        </footer>
    </div>

    <!-- Modale per spiegare l'allucinazione -->
    <div id="hallucination-modal" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <span class="close-btn">&times;</span>
            <h2>‚ö†Ô∏è Allucinazione Rilevata!</h2>
            <p>La scelta che hai fatto ha portato il modello a generare un'<strong>allucinazione</strong>.</p>
            <p>Nel contesto degli LLM, un'allucinazione √® un'informazione che sembra coerente e fattuale, ma in realt√† √® <strong>errata, inventata o non supportata dai dati</strong> di addestramento.</p>
            <p>Questo accade perch√© il modello non "sa" o "capisce" veramente le cose; si limita a predire il token successivo pi√π probabile in base a pattern statistici. A volte, questo processo porta a deviazioni dalla realt√†.</p>
            <button id="modal-ok-btn">Ho capito</button>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>